// feindura - Flat File Content Management System
// Copyright (C) Fabian Vogelsteller [frozeman.de]
//
// Published under the GNU General Public License

// vars
@blockContentPadding: 20px;

.block {
    z-index: 1;
    position: relative;
    display: block;
    width: 800px;
    margin: 20px 0;
    padding: 0;
    overflow: visible;
    #shadow > .drop(0,0,5px,0.2);
    // #border > .rounded(@blockBorderRadius);
    #border > .radius(@blockBorderRadius,0,0,@blockBorderRadius);

    &.hidden {
        display: block; // overwrites the class .hidden in general.less
        // #shadow > .none();
    }
    &:hover {
        #shadow > .drop(0,0,5px,0.2);
    }

    // content wrapper div
    > div {
        z-index: 1;
    }

    .content {
        z-index: 1;
        position: relative;
        width: @gridRowWidth;
        margin: 0;
        padding: @blockContentPadding; // content size is 800 - 40 = 760px
        // padding-top: 10px;
        overflow: hidden;
    }


    > h1 {
        z-index: 2;
        padding: 0;
        padding-bottom: 2px;
        min-height: 35px;
        padding: 15px 25px;
        font-size: 18px;
        line-height: 26px;
        border: 1px solid #fff;
        // #border > .rounded(@blockBorderRadius);
        #border > .radius(@blockBorderRadius,0,0,@blockBorderRadius);
        #gradient > .vertical(#fff,#fff,#f0f0f0,0,1);
        #shadow > .drop(0,1px,4px,0.2);

        > span {
            max-width: 695px;
        }

        &.brown {
            background: url("../images/bg/block_h1_brown.png") repeat-x !important;
        }
        &.blue {
            background: url("../images/bg/block_h1_blue.png") repeat-x !important;
        }

        img {
            position: relative;
            top: -1px;
            left: 2px;
        }
        img.blockH1Icon {
            top: -3px;
            vertical-align: top;
            margin-left: -10px;
            margin-right: 8px;
        }

        // HEADER LINKS
        a {
            z-index: 1;
            position: relative;
            display: block;
            width: 97.5%;
            min-height: 35px;
            padding: 10px 25px;
            padding-bottom: 11px;
            margin: -10px -25px;
            line-height: 32px;
            background-image: url("../images/buttons/content_h1_up_off.png");
            background-repeat: no-repeat;
            background-position: right 12px;
            color: #536068;
        }
        a:hover,
        a:focus {
            color: #536068;
            background-image: url("../images/buttons/content_h1_up_on.png");
        }
    }
    &.hidden > h1 {
        // #gradient > .none();
    }
    &:hover > h1{
        // #gradient > .vertical(#fff,#fff,#f0f0f0,0,1);

        > span {
            max-width: 695px;
        }
    }
    &.hidden > h1 a {
        background-image: url("../images/buttons/content_h1_down_off.png");
    }
    &.hidden > h1 a:hover,
    &.hidden > h1 a:focus {
        background-image: url("../images/buttons/content_h1_down_on.png");
    }

    h2 {
        margin: 0;
        margin-bottom: 6px;
        padding: 4px 6px;
        padding-bottom: 6px;
        line-height: 20px;
        font-size: 16px;
    }
    h3 {
        margin: 10px;
        padding: 5px 7px;
        font-size: 15px;
        color: #536068;

        span {
            color: #BAB8B6;
        }
    }
    h4 {
        margin: 10px 0 5px -10px;
        padding: 5px 10px;
        font-size: 14px;
        color: #536068;
    }


    // VERTICAL SEPERATOR
    .verticalSeparator {
      background: url('../images/bg/content_block_verticalSeparator.png') no-repeat bottom center;
      height: 5px;
      margin: @gridGutterWidth -16px;
      clear: both;
    }
    h2 + .verticalSeparator {
        margin-top: 0px !important;
    }


    // ALERT BOXES (general)

    &.alert {
        border: none;

        h1 {
            #shadow > .text(0 1px 1px #c1c1c1);
        }
        p {
            display: block;
            margin-left: 100px;
        }
        .content {
            position: relative;
            margin-top: 1px;
            min-height: 80px;
            max-height: 400px;
            overflow: auto;
            background-position: 20px 50%;
            background-repeat: no-repeat;
        }
    }

    // ALERT WARNING
    &.warning {
        #gradient > .vertical(#FFECDD,#FFECDD,#fff,0,0.6);

        .content {
            background-image: url("../images/icons/warning.png");
        }
        h1 {
            color: #CA5C00;
            #gradient > .vertical(#fff,#fff,#FFECDD,0,1);
        }
        h2 {
            margin-left: 65px;
        }
    }

    // ALERT INFO
    &.info {
        #gradient > .vertical(#FEEC92,#FEEC92,#fff,0,0.6);

        .content {
            background-image: url("../images/icons/info.png");
        }
        h1 {
            color: @colorBrown;
            #gradient > .vertical(#fff,#fff,#FEEC92,0,1);
        }
        h2 {
            margin-top: 20px;
            margin-left: 95px;
            border-bottom: 1px dotted #DFB300;
        }
        p {
            color: @colorBrown;
        }
    }

    // ALERT MISSING LANGUAGES
    &.info.missingLanguages {
        .content {
            background-image: url("../images/icons/missingLanguages_big.png");
        }
        a {
            background-image: none;
            padding-left: 0;
        }
    }

    // OPEN BLOCK
    &.open {
        // z-index: 0;
        border-bottom: transparent;
        #shadow > .none();
        #border > .radius(@blockBorderRadius,0,0,@blockBorderRadius);

        .content {
            margin-top: -10px;
            padding-top: 0;
            padding-bottom: 10px;
            background-color: #fff;
        }

        > h1,
        > h1:hover,
        > h1.hidden {
            padding-bottom: 25px;
            #shadow > .drop(0,0,5px,0.2);
            #border > .radius(@blockBorderRadius,0,0,@blockBorderRadius);
        }
    }

    // PLAIN BLOCK
    &.plain {
        padding-top: 20px;
        padding-bottom: 20px;

        .content {
            padding: 0 @blockContentPadding;
            overflow: visible;
        }
    }

    // INNER BLOCKS

    .innerBlock {
        #shadow > .inner(0,0,5px,0.3);
        #border > .rounded(10px);
        padding: 20px;
        background-color: @innerBlockColor;

        @innerBlockMargin: -14px;
        @innerBlockRoundBorder: 6px;

        .innerBlocklistPages {
            position: relative;
            max-height: 150px;
            min-height: 2px;
            padding: 0px;
            margin: 0 @innerBlockMargin;
            margin-top: -16px;
            margin-bottom: -14px;
            border: 1px solid #cccccc;
            border-left: none;
            border-right: none;
            overflow: auto;
            #border > .radius(0,@innerBlockRoundBorder,@innerBlockRoundBorder,0);
        }

        h2 {
            border-bottom: 1px solid #c4c4c4;
            margin: -15px @innerBlockMargin;
            margin-bottom: 15px;
            padding: 10px 20px;
            text-align: center;
            color: #a3a3a3;
            #shadow > .text(0 1px 1px #fff);
            #border > .radius(@innerBlockRoundBorder,0,0,@innerBlockRoundBorder);
            #gradient > .vertical(#f3f3f3,#f3f3f3,#fff,0,1);
        }
        hr.small {
            margin: 10px @innerBlockMargin;
        }
    }

    .inBlockFrame {
        #shadow > .inner(0,0,5px,0.3);
        #border > .rounded(10px);
        padding: 10px;
        margin: -10px;
        background-color: @innerBlockColor;
    }


    // FORM SPANS
    .form {
        .row {
            padding: 10px 0;
        }

        // class="span3 formLeft" - "formLeft" is used so i could change the span3 more easily over multiple files, just replace "span3 formLeft" with e.g. "span2 formLeft"
        .formLeft {
            text-align: right;
        }
        input {
            margin: 1px 0;
        }
        input, textarea {
            width: 70%;
        }
        label {
            display: inline-block;
            width: auto;
        }
    }


}