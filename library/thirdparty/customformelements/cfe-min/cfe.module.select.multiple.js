cfe.module.select_multiple=new Class({Extends:cfe.module.select,type:"Selector",selector:"select[multiple]",options:{size:4,scrolling:true,scrollSteps:5},build:function(){this.a.addClass("jsSelectorMultiple jsSelectorMultiple"+this.options.instanceID);this.a.removeClass("jsSelector");this.buildContainer();this.o.addEvents({onDisable:function(){this.aliasOptions.getChildren().each(function(a){a.getChildren("input")[0].disable()})}.bind(this),onEnable:function(){this.aliasOptions.getChildren().each(function(a){a.getChildren("input")[0].enable()})}.bind(this)})},buildOption:function(b,a){var c=new cfe.module.checkbox({label:b.innerHTML,checked:$chk(b.selected),aliasType:"div",disabled:this.isDisabled()});c.index=a;c.addEvents({check:function(d){this.origOptions[d].selected=true;this.o.fireEvent("change")}.pass(a,this),uncheck:function(d){this.origOptions[d].selected=false;this.o.fireEvent("change")}.pass(a,this)});c.getAlias().addClass("jsOption jsOption"+a+(b.get("class")?" ".el.get("class"):"")).disableTextSelection();c.getLabel().removeEvents().inject(c.getAlias());return c.getAlias()},selectOption:function(a){a=a.limit(0,this.origOptions.length-1);this.highlightOption(a)},scrollToSelectedItem:function(a){},clicked:function(){if(!this.isDisabled()){this.o.focus();this.fireEvent("onClick")}},update:function(){this.fireEvent("onUpdate")},keyup:function(b){var a=new Event(b);switch(a.key){case"enter":case"space":break;case"up":this.updateOption(-1);break;case"down":this.updateOption(1);break;case"esc":this.hideContainer();break;default:this.o.fireEvent("change");break}},keydown:function(){}});