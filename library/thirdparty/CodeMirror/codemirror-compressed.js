var CodeMirror=(function(){function y(O,aR){var a0={},aM=y.defaults;for(var bf in aM){if(aM.hasOwnProperty(bf)){a0[bf]=(aR&&aR.hasOwnProperty(bf)?aR:aM)[bf];}}var bd=document.createElement("div");bd.className="CodeMirror";if(window.ActiveXObject&&/MSIE [1-7][\b\.]/.test(navigator.userAgent)){bd.style.position="relative";}bd.innerHTML='<div style="position: relative"><div style="position: absolute; height: 0; width: 0; overflow: hidden;"></div><div style="position: relative"><div class="CodeMirror-gutter"><div class="CodeMirror-gutter-text"></div></div><div style="overflow: hidden; position: absolute; width: 0; left: 0"><textarea style="position: absolute; width: 100000px;" wrap="off"></textarea></div><div class="CodeMirror-lines"><div style="position: relative"><pre class="CodeMirror-cursor">&#160;</pre><div></div></div></div></div></div>';if(O.appendChild){O.appendChild(bd);}else{O(bd);}var aw=bd.firstChild,ao=aw.firstChild,a9=ao.nextSibling,aG=a9.firstChild,bD=aG.firstChild,bH=aG.nextSibling,bF=bH.firstChild,az=bH.nextSibling.firstChild,W=az.firstChild,aa=W.nextSibling;if(a0.tabindex!=null){bF.tabindex=a0.tabindex;}if(!a0.gutter&&!a0.lineNumbers){aG.style.display="none";}var ay=new l(),ai=new l(),Z;var a2,bz=[new z("")],aV,aS=new c(),i;bb();var aH={from:{line:0,ch:0},to:{line:0,ch:0},inverted:false};var aU,bk,X;var a7,bx,aB,af,bv;var a4=0,bi=0,bp=0,aF=null;var P,bo;var aA="";bA(function(){ac(a0.value||"");a7=false;})();setTimeout(au,20);e(bd,"mousedown",bA(aj));if(!o){e(bd,"contextmenu",bA(ah));}e(aw,"dblclick",bA(a3));e(bd,"scroll",function(){Y([]);if(a0.onScroll){a0.onScroll(bw);}});e(window,"resize",function(){Y(true);});e(bF,"keyup",bA(a8));e(bF,"keydown",bA(am));e(bF,"keypress",bA(aY));e(bF,"focus",av);e(bF,"blur",at);e(bd,"dragenter",function(bK){bK.stop();});e(bd,"dragover",function(bK){bK.stop();});e(bd,"drop",bA(ae));e(bd,"paste",function(){bF.focus();bu();});e(bF,"paste",function(){bu();});e(bF,"cut",function(){bu();});if(document.activeElement==bF){av();}else{at();}function I(bK){return bK>=0&&bK<bz.length;}var bw={getValue:a1,setValue:bA(ac),getSelection:br,replaceSelection:bA(ad),focus:function(){bF.focus();av();bu();},setOption:function(bK,bL){a0[bK]=bL;if(bK=="lineNumbers"||bK=="gutter"){K();}else{if(bK=="mode"||bK=="indentUnit"){bb();}}},getOption:function(bK){return a0[bK];},undo:bA(bm),redo:bA(bI),indentLine:bA(function(bK){if(I(bK)){al(bK,"smart");}}),historySize:function(){return{undo:aS.done.length,redo:aS.undone.length};},matchBrackets:bA(function(){ak(true);}),getTokenAt:function(bK){bK=ab(bK);return bz[bK.line].getTokenAt(a2,ax(bK.line),bK.ch);},cursorCoords:function(bK){if(bK==null){bK=aH.inverted;}return bg(bK?aH.from:aH.to);},charCoords:function(bK){return bg(ab(bK));},coordsChar:function(bL){var bM=A(az);var bK=aO(Math.min(bz.length-1,a4+Math.floor((bL.y-bM.top)/by())));return ab({line:bK,ch:aZ(aO(bK),bL.x-bM.left)});},getSearchCursor:function(bL,bM,bK){return new ap(bL,bM,bK);},markText:bA(function(bL,bK,bM){return bA(N(bL,bK,bM));}),setMarker:ag,clearMarker:V,setLineClass:bA(aE),lineInfo:T,addWidget:function(bM,bL,bK){var bM=bh(ab(bM),true);bL.style.top=(a4*by()+bM.yBot+aW())+"px";bL.style.left=(bM.x+ba())+"px";aw.appendChild(bL);if(bK){bJ(bM.x,bM.yBot,bM.x+bL.offsetWidth,bM.yBot+bL.offsetHeight);}},lineCount:function(){return bz.length;},getCursor:function(bK){if(bK==null){bK=aH.inverted;}return q(bK?aH.from:aH.to);},somethingSelected:function(){return !n(aH.from,aH.to);},setCursor:bA(function(bK,bL){if(bL==null&&typeof bK.line=="number"){aK(bK.line,bK.ch);}else{aK(bK,bL);}}),setSelection:bA(function(bL,bK){bj(ab(bL),ab(bK||bL));}),getLine:function(bK){if(I(bK)){return bz[bK].text;}},setLine:bA(function(bK,bL){if(I(bK)){bc(bL,{line:bK,ch:0},{line:bK,ch:bz[bK].text.length});}}),removeLine:bA(function(bK){if(I(bK)){bc("",{line:bK,ch:0},ab({line:bK+1,ch:0}));}}),replaceRange:bA(bc),getRange:function(bL,bK){return aX(ab(bL),ab(bK));},operation:function(bK){return bA(bK)();},refresh:function(){Y(true);},getInputField:function(){return bF;},getWrapperElement:function(){return bd;}};function ac(bK){aS=null;var bL={line:0,ch:0};a6(bL,{line:bz.length-1,ch:bz[bz.length-1].text.length},v(bK),bL,bL);aS=new c();}function a1(bM){var bN=[];for(var bL=0,bK=bz.length;bL<bK;++bL){bN.push(bz[bL].text);}return bN.join("\n");}function aj(bR){var bK=X;X=null;for(var bN=bR.target();bN!=bd;bN=bN.parentNode){if(bN.parentNode==bD){if(a0.onGutterClick){a0.onGutterClick(bw,d(bD.childNodes,bN)+a4);}return bR.stop();}}if(o&&bR.button()==3){ah(bR);}if(bR.button()!=1){return;}var bL=U(bR),bT=bL,bM;if(!bL){if(bR.target()==bd){bR.stop();}return;}if(!i){av();}bR.stop();if(bK&&+new Date-bK<400){return aD(bL.line);}aK(bL.line,bL.ch,false);function bP(){bF.focus();a7=true;bO();bQ();}function bS(bU){var bW=U(bU,true);if(bW&&!n(bW,bT)){if(!i){av();}bT=bW;bj(bL,bW);a7=false;var bV=bB();if(bW.line>=bV.to||bW.line<bV.from){bM=setTimeout(bA(function(){bS(bU);}),150);}}}var bO=e(document,"mousemove",bA(function(bU){clearTimeout(bM);bU.stop();bS(bU);}),true);var bQ=e(document,"mouseup",bA(function(bU){clearTimeout(bM);var bV=U(bU);if(bV){bj(bL,bV);}bU.stop();bP();}),true);}function a3(bK){var bL=U(bK);if(!bL){return;}a5(bL);bK.stop();X=+new Date;}function ae(bO){var bR=U(bO,true),bL=bO.e.dataTransfer.files;if(!bR||a0.readOnly){return;}if(bL&&bL.length&&window.FileReader&&window.File){var bQ=bL.length,bP=Array(bQ),bM=0;for(var bK=0;bK<bQ;++bK){bN(bL[bK],bK);}function bN(bU,bT){var bS=new FileReader;bS.onload=function(){bP[bT]=bS.result;if(++bM==bQ){bc(bP.join(""),ab(bR),ab(bR));}};bS.readAsText(bU);}}else{try{var bP=bO.e.dataTransfer.getData("Text");if(bP){bc(bP,bR,bR);}}catch(bO){}}}function am(bO){if(!i){av();}var bN=bO.e.keyCode;var bM=(j?bO.e.metaKey:bO.e.ctrlKey)&&!bO.e.altKey,bL=bO.e.ctrlKey||bO.e.altKey||bO.e.metaKey;if(bN==16||bO.e.shiftKey){aU=aU||(aH.inverted?aH.to:aH.from);}else{aU=null;}if(a0.onKeyEvent&&a0.onKeyEvent(bw,s(bO.e))){return;}if(bN==33||bN==34){bs(bN==34);return bO.stop();}if(bM&&((bN==36||bN==35)||j&&(bN==38||bN==40))){bC(bN==36||bN==38);return bO.stop();}if(bM&&bN==65){be();return bO.stop();}if(!a0.readOnly){if(!bL&&bN==13){return;}if(!bL&&bN==9&&aq(bO.e.shiftKey)){return bO.stop();}if(bM&&bN==90){bm();return bO.stop();}if(bM&&((bO.e.shiftKey&&bN==90)||bN==89)){bI();return bO.stop();}}aF=(bM?"c":"")+bN;if(aH.inverted&&t.hasOwnProperty(aF)){var bK=G(bF);if(bK){bk={anchor:bK.start};f(bF,bK.start,bK.start);}}bu(aF);}function a8(bK){if(bk){bk=null;a7=true;}if(bK.e.keyCode==16){aU=null;}}function aY(bM){if(a0.onKeyEvent&&a0.onKeyEvent(bw,s(bM.e))){return;}if(a0.electricChars&&a2.electricChars){var bK=String.fromCharCode(bM.e.charCode==null?bM.e.keyCode:bM.e.charCode);if(a2.electricChars.indexOf(bK)>-1){setTimeout(bA(function(){al(aH.to.line,"smart");}),50);}}var bL=bM.e.keyCode;if(bL==13){ar();bM.stop();}else{if(bL==9&&a0.tabMode!="default"){bM.stop();}else{bu(aF);}}}function av(){if(!i&&a0.onFocus){a0.onFocus(bw);}i=true;bl();if(bd.className.search(/\bCodeMirror-focused\b/)==-1){bd.className+=" CodeMirror-focused";}J();}function at(){if(i&&a0.onBlur){a0.onBlur(bw);}clearInterval(Z);aU=null;i=false;bd.className=bd.className.replace(" CodeMirror-focused","");}function a6(bR,bQ,bO,bL,bK){if(aS){var bM=[];for(var bN=bR.line,bP=bQ.line+1;bN<bP;++bN){bM.push(bz[bN].text);}aS.addChange(bR.line,bO.length,bM);while(aS.done.length>a0.undoDepth){aS.done.shift();}}L(bR,bQ,bO,bL,bK);}function aJ(bQ,bP){var bO=bQ.pop();if(bO){var bM=[],bK=bO.start+bO.added;for(var bL=bO.start;bL<bK;++bL){bM.push(bz[bL].text);}bP.push({start:bO.start,added:bO.old.length,old:bM});var bN=ab({line:bO.start+bO.old.length-1,ch:k(bM[bM.length-1],bO.old[bO.old.length-1])});L({line:bO.start,ch:0},{line:bK-1,ch:bz[bK-1].text.length},bO.old,bN,bN);}}function bm(){aJ(aS.done,aS.undone);}function bI(){aJ(aS.undone,aS.done);}function L(bV,bO,b0,bK,b1){var bZ=false,bN=aA.length;for(var bW=bV.line;bW<bO.line;++bW){if(bz[bW].text.length==bN){bZ=true;break;}}var bR=bO.line-bV.line,bQ=bz[bV.line],bL=bz[bO.line];if(bQ==bL){if(b0.length==1){bQ.replace(bV.ch,bO.ch,b0[0]);}else{bL=bQ.split(bO.ch,b0[b0.length-1]);var bS=[bV.line+1,bR];bQ.replace(bV.ch,bQ.text.length,b0[0]);for(var bW=1,bY=b0.length-1;bW<bY;++bW){bS.push(new z(b0[bW]));}bS.push(bL);bz.splice.apply(bz,bS);}}else{if(b0.length==1){bQ.replace(bV.ch,bQ.text.length,b0[0]+bL.text.slice(bO.ch));bz.splice(bV.line+1,bR);}else{var bS=[bV.line+1,bR-1];bQ.replace(bV.ch,bQ.text.length,b0[0]);bL.replace(0,bO.ch,b0[b0.length-1]);for(var bW=1,bY=b0.length-1;bW<bY;++bW){bS.push(new z(b0[bW]));}bz.splice.apply(bz,bS);}}for(var bW=bV.line,bY=bW+b0.length;bW<bY;++bW){var bU=bz[bW].text;if(bU.length>bN){aA=bU;bN=bU.length;bZ=false;}}if(bZ){bN=0;for(var bW=0,bY=bz.length;bW<bY;++bW){var bU=bz[bW].text;if(bU.length>bN){bN=bU.length;aA=bU;}}}var bM=[],bP=b0.length-bR-1;for(var bW=0,bU=aV.length;bW<bU;++bW){var bX=aV[bW];if(bX<bV.line){bM.push(bX);}else{if(bX>bO.line){bM.push(bX+bP);}}}if(b0.length){bM.push(bV.line);}aV=bM;bE(100);bx.push({from:bV.line,to:bO.line+1,diff:bP});aB={from:bV,to:bO,text:b0};function bT(b2){return b2<=Math.min(bO.line,bO.line+bP)?b2:b2+bP;}bj(bK,b1,bT(aH.from.line),bT(aH.to.line));aw.style.height=(bz.length*by()+2*aW())+"px";}function bc(bL,bO,bN){bO=ab(bO);if(!bN){bN=bO;}else{bN=ab(bN);}bL=v(bL);function bM(bR){if(m(bR,bO)){return bR;}if(!m(bN,bR)){return bK;}var bP=bR.line+bL.length-(bN.line-bO.line)-1;var bQ=bR.ch;if(bR.line==bN.line){bQ+=bL[bL.length-1].length-(bN.ch-(bN.line==bO.line?bO.ch:0));}return{line:bP,ch:bQ};}var bK;bn(bL,bO,bN,function(bP){bK=bP;return{from:bM(aH.from),to:bM(aH.to)};});return bK;}function ad(bK,bL){bn(v(bK),aH.from,aH.to,function(bM){if(bL=="end"){return{from:bM,to:bM};}else{if(bL=="start"){return{from:aH.from,to:aH.from};}else{return{from:aH.from,to:bM};}}});}function bn(bN,bP,bO,bK){var bM=bN.length==1?bN[0].length+bP.ch:bN[bN.length-1].length;var bL=bK({line:bP.line+bN.length-1,ch:bM});a6(bP,bO,bN,bL.from,bL.to);}function aX(bP,bO){var bL=bP.line,bK=bO.line;if(bL==bK){return bz[bL].text.slice(bP.ch,bO.ch);}var bN=[bz[bL].text.slice(bP.ch)];for(var bM=bL+1;bM<bK;++bM){bN.push(bz[bM].text);}bN.push(bz[bK].text.slice(0,bO.ch));return bN.join("\n");}function br(){return aX(aH.from,aH.to);}var aN=false;function bl(){if(aN){return;}ay.set(2000,function(){R();bt();if(i){bl();}aC();});}function bu(bM){var bK=false;aN=true;function bL(){R();var bN=bt();if(bN=="moved"&&bM){t[bM]=true;}if(!bN&&!bK){bK=true;ay.set(80,bL);}else{aN=false;bl();}aC();}ay.set(20,bL);}function bt(){var bQ=false,bX=bF.value,bZ=G(bF);if(!bZ){return false;}var bQ=P.text!=bX,bS=bk;var bR=bQ||bZ.start!=P.start||bZ.end!=(bS?P.start:P.end);if(!bR&&!bS){return false;}if(bQ){aU=bk=null;if(a0.readOnly){a7=true;return"changed";}}function bO(b6,b4){var b5=0;for(;;){var b3=bX.indexOf("\n",b5);if(b3==-1||(bX.charAt(b3-1)=="\r"?b3-1:b3)>=b6){return{line:b4,ch:b6-b5};}++b4;b5=b3+1;}}var bY=bO(bZ.start,P.from),bL=bO(bZ.end,P.from);if(bS){bY=bZ.start==bS.anchor?bL:bY;bL=aU?aH.to:bZ.start==bS.anchor?bY:bL;if(!m(bY,bL)){bk=null;aH.inverted=false;var b2=bY;bY=bL;bL=b2;}}if(bY.line==bL.line&&bY.line==aH.from.line&&bY.line==aH.to.line&&!aU){a7=false;}if(bQ){var bP=0,bN=bX.length,b0=Math.min(bN,P.text.length);var b1,bU=P.from,bM=-1;while(bP<b0&&(b1=bX.charAt(bP))==P.text.charAt(bP)){++bP;if(b1=="\n"){bU++;bM=bP;}}var bV=bM>-1?bP-bM:bP,bK=P.to-1,bT=P.text.length;for(;;){b1=P.text.charAt(bT);if(b1=="\n"){bK--;}if(bX.charAt(bN)!=b1){++bN;++bT;break;}if(bT<=bP||bN<=bP){break;}--bN;--bT;}var bM=P.text.lastIndexOf("\n",bT-1),bW=bM==-1?bT:bT-bM-1;a6({line:bU,ch:bV},{line:bK,ch:bW},v(bX.slice(bP,bN)),bY,bL);if(bU!=bK||bY.line!=bU){a7=true;}}else{bj(bY,bL);}P.text=bX;P.start=bZ.start;P.end=bZ.end;return bQ?"changed":bR?"moved":false;}function au(){var bN=[];var bP=Math.max(0,aH.from.line-1),bO=Math.min(bz.length,aH.to.line+2);for(var bM=bP;bM<bO;++bM){bN.push(bz[bM].text);}bN=bF.value=bN.join(h);var bL=aH.from.ch,bK=aH.to.ch;for(var bM=bP;bM<aH.from.line;++bM){bL+=h.length+bz[bM].text.length;}for(var bM=bP;bM<aH.to.line;++bM){bK+=h.length+bz[bM].text.length;}P={text:bN,from:bP,to:bO,start:bL,end:bK};f(bF,bL,bk?bL:bK);}function aL(){var bK=bh(aH.inverted?aH.from:aH.to);return bJ(bK.x,bK.y,bK.x,bK.yBot);}function bJ(bM,bQ,bK,bP){var bO=ba(),bV=aW();bQ+=bV;bP+=bV;bM+=bO;bK+=bO;var bS=bd.clientHeight,bN=bd.scrollTop,bL=false,bU=true;if(bQ<bN){bd.scrollTop=Math.max(0,bQ-10);bL=true;}else{if(bP>bN+bS){bd.scrollTop=bP+10-bS;bL=true;}}var bR=bd.clientWidth,bT=bd.scrollLeft;if(bM<bT){bd.scrollLeft=Math.max(0,bM-10);bL=true;}else{if(bK>bR+bT){bd.scrollLeft=bK+10-bR;bL=true;if(bK>aw.clientWidth){bU=false;}}}if(bL&&a0.onScroll){a0.onScroll(bw);}return bU;}function bB(){var bK=by(),bL=bd.scrollTop-aW();return{from:Math.min(bz.length,Math.max(0,Math.floor(bL/bK))),to:Math.min(bz.length,Math.ceil((bL+bd.clientHeight)/bK))};}function Y(b3){if(!bd.clientWidth){a4=bi=0;return;}var b2=b3===true?[]:[{from:a4,to:bi,domStart:0}];for(var b1=0,bX=b3.length||0;b1<bX;++b1){var bR=b3[b1],bP=[],bS=bR.diff||0;for(var b0=0,bY=b2.length;b0<bY;++b0){var bU=b2[b0];if(bR.to<=bU.from){bP.push({from:bU.from+bS,to:bU.to+bS,domStart:bU.domStart});}else{if(bU.to<=bR.from){bP.push(bU);}else{if(bR.from>bU.from){bP.push({from:bU.from,to:bR.from,domStart:bU.domStart});}if(bR.to<bU.to){bP.push({from:bR.to+bS,to:bU.to+bS,domStart:bU.domStart+(bR.to-bU.from)});}}}}b2=bP;}var bM=bB();var bZ=Math.min(a4,Math.max(bM.from-3,0)),bK=Math.min(bz.length,Math.max(bi,bM.to+3)),bQ=[],bT=0,bO=bi-a4,bN=bZ,bW=0;for(var b1=0,bX=b2.length;b1<bX;++b1){var bU=b2[b1];if(bU.to<=bZ){continue;}if(bU.from>=bK){break;}if(bU.domStart>bT||bU.from>bN){bQ.push({from:bN,to:bU.from,domSize:bU.domStart-bT,domStart:bT});bW+=bU.from-bN;}bN=bU.to;bT=bU.domStart+(bU.to-bU.from);}if(bT!=bO||bN!=bK){bW+=Math.abs(bK-bN);bQ.push({from:bN,to:bK,domSize:bO-bT,domStart:bT});}if(!bQ.length){return;}aa.style.display="none";if(bW>(bM.to-bM.from)*0.3){aP(bZ=Math.max(bM.from-10,0),bK=Math.min(bM.to+7,bz.length));}else{S(bQ);}aa.style.display="";var bV=bZ!=a4||bK!=bi||bp!=bd.clientHeight;a4=bZ;bi=bK;a9.style.top=(bZ*by())+"px";if(bV){bp=bd.clientHeight;aw.style.height=(bz.length*by()+2*aW())+"px";Q();}var bL=aI(aA);az.style.width=bL>bd.clientWidth?bL+"px":"";if(aa.childNodes.length!=bi-a4){throw new Error("BAD PATCH! "+JSON.stringify(bQ)+" size="+(bi-a4)+" nodes="+aa.childNodes.length);}bq();}function aP(bR,bQ){var bN=[],bP={line:bR,ch:0},bO=m(aH.from,bP)&&!m(aH.to,bP);for(var bM=bR;bM<bQ;++bM){var bL=null,bK=null;if(bO){bL=0;if(aH.to.line==bM){bO=false;bK=aH.to.ch;}}else{if(aH.from.line==bM){if(aH.to.line==bM){bL=aH.from.ch;bK=aH.to.ch;}else{bO=true;bL=aH.from.ch;}}}bN.push(bz[bM].getHTML(bL,bK,true));}aa.innerHTML=bN.join("");}function S(bW){var bX=aH.from.line,bY=aH.to.line,bM=0,bU=F&&document.createElement("div");for(var bS=0,bT=bW.length;bS<bT;++bS){var bP=bW[bS];var bO=(bP.to-bP.from)-bP.domSize;var bV=aa.childNodes[bP.domStart+bP.domSize+bM]||null;if(F){for(var bR=Math.max(-bO,bP.domSize);bR>0;--bR){aa.removeChild(bV?bV.previousSibling:aa.lastChild);}}else{if(bO){for(var bR=Math.max(0,bO);bR>0;--bR){aa.insertBefore(document.createElement("pre"),bV);}for(var bR=Math.max(0,-bO);bR>0;--bR){aa.removeChild(bV?bV.previousSibling:aa.lastChild);}}}var bN=aa.childNodes[bP.domStart+bM],bQ=bX<bP.from&&bY>=bP.from;for(var bR=bP.from;bR<bP.to;++bR){var bL=null,bK=null;if(bQ){bL=0;if(bY==bR){bQ=false;bK=aH.to.ch;}}else{if(bX==bR){if(bY==bR){bL=aH.from.ch;bK=aH.to.ch;}else{bQ=true;bL=aH.from.ch;}}}if(F){bU.innerHTML=bz[bR].getHTML(bL,bK,true);aa.insertBefore(bU.firstChild,bV);}else{bN.innerHTML=bz[bR].getHTML(bL,bK,false);bN.className=bz[bR].className||"";bN=bN.nextSibling;}}bM+=bO;}}function Q(){if(!a0.gutter&&!a0.lineNumbers){return;}var bM=a9.offsetHeight,bT=bd.clientHeight;aG.style.height=(bM-bT<2?bT:bM)+"px";var bR=[];for(var bP=a4;bP<bi;++bP){var bQ=bz[bP].gutterMarker;var bS=a0.lineNumbers?bP+a0.firstLineNumber:null;if(bQ&&bQ.text){bS=bQ.text.replace("%N%",bS!=null?bS:"");}else{if(bS==null){bS="\u00a0";}}bR.push((bQ&&bQ.style?'<pre class="'+bQ.style+'">':"<pre>"),bS,"</pre>");}aG.style.display="none";bD.innerHTML=bR.join("");var bO=String(bz.length).length,bK=bD.firstChild,bL=a(bK),bN="";while(bL.length+bN.length<bO){bN+="\u00a0";}if(bN){bK.insertBefore(document.createTextNode(bN),bK.firstChild);}aG.style.display="";az.style.marginLeft=aG.offsetWidth+"px";}function bq(){var bL=aH.inverted?aH.from:aH.to;var bK=M(bL.line,bL.ch)+"px",bM=(bL.line-a4)*by()+"px";bH.style.top=bM;bH.style.left=bK;if(n(aH.from,aH.to)){W.style.top=bM;W.style.left=bK;W.style.display="";}else{W.style.display="none";}}function bj(bR,bQ,bL,bO){if(n(aH.from,bR)&&n(aH.to,bQ)){return;}var bN=aU&&ab(aU);if(m(bQ,bR)){var bM=bQ;bQ=bR;bR=bM;}if(bN){if(m(bN,bR)){bR=bN;}else{if(m(bQ,bN)){bQ=bN;}}}var bK=n(aH.to,bQ),bP=n(aH.from,bR);if(n(bR,bQ)){aH.inverted=false;}else{if(bK&&!bP){aH.inverted=true;}else{if(bP&&!bK){aH.inverted=false;}}}if(bL==null){bL=aH.from.line;bO=aH.to.line;}if(n(bR,bQ)){if(!n(aH.from,aH.to)){bx.push({from:bL,to:bO+1});}}else{if(n(aH.from,aH.to)){bx.push({from:bR.line,to:bQ.line+1});}else{if(!n(bR,aH.from)){if(bR.line<bL){bx.push({from:bR.line,to:Math.min(bQ.line,bL)+1});}else{bx.push({from:bL,to:Math.min(bO,bR.line)+1});}}if(!n(bQ,aH.to)){if(bQ.line<bO){bx.push({from:Math.max(bL,bR.line),to:bO+1});}else{bx.push({from:Math.max(bR.line,bO),to:bQ.line+1});}}}}aH.from=bR;aH.to=bQ;af=true;}function aK(bK,bL){var bM=ab({line:bK,ch:bL||0});bj(bM,bM);}function aO(bK){return Math.max(0,Math.min(bK,bz.length-1));}function ab(bM){if(bM.line<0){return{line:0,ch:0};}if(bM.line>=bz.length){return{line:bz.length-1,ch:bz[bz.length-1].text.length};}var bK=bM.ch,bL=bz[bM.line].text.length;if(bK==null||bK>bL){return{line:bM.line,ch:bL};}else{if(bK<0){return{line:bM.line,ch:0};}else{return bM;}}}function bs(bM){var bK=Math.floor(bd.clientHeight/by()),bL=aH.inverted?aH.from:aH.to;aK(bL.line+(Math.max(bK-1,1)*(bM?1:-1)),bL.ch);}function bC(bK){aK(bK?0:bz.length-1);}function be(){var bK=bz.length-1;bj({line:0,ch:0},{line:bK,ch:bz[bK].text.length});}function a5(bN){var bL=bz[bN.line].text;var bM=bN.ch,bK=bN.ch;while(bM>0&&/\w/.test(bL.charAt(bM-1))){--bM;}while(bK<bL.length&&/\w/.test(bL.charAt(bK))){++bK;}bj({line:bN.line,ch:bM},{line:bN.line,ch:bK});}function aD(bK){bj({line:bK,ch:0},{line:bK,ch:bz[bK].text.length});}function ar(){ad("\n","end");if(a0.enterMode!="flat"){al(aH.from.line,a0.enterMode=="keep"?"prev":"smart");}}function aq(bK){aU=null;switch(a0.tabMode){case"default":return false;case"indent":for(var bL=aH.from.line,bM=aH.to.line;bL<=bM;++bL){al(bL,"smart");}break;case"classic":if(n(aH.from,aH.to)){if(bK){al(aH.from.line,"smart");}else{ad("\t","end");}break;}case"shift":for(var bL=aH.from.line,bM=aH.to.line;bL<=bM;++bL){al(bL,bK?"subtract":"add");}break;}return true;}function al(bM,bT){if(bT=="smart"){if(!a2.indent){bT="prev";}else{var bK=ax(bM);}}var bU=bz[bM],bO=bU.indentation(),bL=bU.text.match(/^\s*/)[0],bQ;if(bT=="prev"){if(bM){bQ=bz[bM-1].indentation();}else{bQ=0;}}else{if(bT=="smart"){bQ=a2.indent(bK,bU.text.slice(bL.length));}else{if(bT=="add"){bQ=bO+a0.indentUnit;}else{if(bT=="subtract"){bQ=bO-a0.indentUnit;}}}}bQ=Math.max(0,bQ);var bS=bQ-bO;if(!bS){if(aH.from.line!=bM&&aH.to.line!=bM){return;}var bR=bL;}else{var bR="",bP=0;if(a0.indentWithTabs){for(var bN=Math.floor(bQ/u);bN;--bN){bP+=u;bR+="\t";}}while(bP<bQ){++bP;bR+=" ";}}bc(bR,{line:bM,ch:0},{line:bM,ch:bL.length});}function bb(){a2=y.getMode(a0,a0.mode);for(var bL=0,bK=bz.length;bL<bK;++bL){bz[bL].stateAfter=null;}aV=[0];}function K(){var bK=a0.gutter||a0.lineNumbers;aG.style.display=bK?"":"none";if(bK){Q();}else{aa.parentNode.style.marginLeft=0;}}function N(bQ,bP,bM){bQ=ab(bQ);bP=ab(bP);var bK=[];function bO(bR,bV,bU,bS){var bR=bz[bR],bT=bR.addMark(bV,bU,bS);bT.line=bR;bK.push(bT);}if(bQ.line==bP.line){bO(bQ.line,bQ.ch,bP.ch,bM);}else{bO(bQ.line,bQ.ch,null,bM);for(var bL=bQ.line+1,bN=bP.line;bL<bN;++bL){bO(bL,0,null,bM);}bO(bP.line,0,bP.ch,bM);}bx.push({from:bQ.line,to:bP.line+1});return function(){var bV,bR;for(var bS=0;bS<bK.length;++bS){var bU=bK[bS],bT=d(bz,bU.line);bU.line.removeMark(bU);if(bT>-1){if(bV==null){bV=bT;}bR=bT;}}if(bV!=null){bx.push({from:bV,to:bR+1});}};}function ag(bK,bM,bL){if(typeof bK=="number"){bK=bz[aO(bK)];}bK.gutterMarker={text:bM,style:bL};Q();return bK;}function V(bK){if(typeof bK=="number"){bK=bz[aO(bK)];}bK.gutterMarker=null;Q();}function aE(bK,bL){if(typeof bK=="number"){var bM=bK;bK=bz[aO(bK)];}else{var bM=d(bz,bK);if(bM==-1){return null;}}bK.className=bL;bx.push({from:bM,to:bM+1});return bK;}function T(bL){if(typeof bL=="number"){var bM=bL;bL=bz[bL];if(!bL){return null;}}else{var bM=d(bz,bL);if(bM==-1){return null;}}var bK=bL.gutterMarker;return{line:bM,text:bL.text,markerText:bK&&bK.text,markerClass:bK&&bK.style};}function aI(bK){ao.innerHTML="<pre><span>x</span></pre>";ao.firstChild.firstChild.firstChild.nodeValue=bK;return ao.firstChild.firstChild.offsetWidth||10;}function M(bK,bL){if(bL==0){return 0;}ao.innerHTML="<pre><span>"+bz[bK].getHTML(null,null,false,bL)+"</span></pre>";return ao.firstChild.firstChild.offsetWidth;}function aZ(bW,bQ){if(bQ<=0){return 0;}var bN=bz[bW],bT=bN.text;function bU(bX){ao.innerHTML="<pre><span>"+bN.getHTML(null,null,false,bX)+"</span></pre>";return ao.firstChild.firstChild.offsetWidth;}var bR=0,bP=0,bS=bT.length,bO;var bL=Math.min(bS,Math.ceil(bQ/aI("x")));for(;;){var bM=bU(bL);if(bM<=bQ&&bL<bS){bL=Math.min(bS,Math.ceil(bL*1.2));}else{bO=bM;bS=bL;break;}}if(bQ>bO){return bS;}bL=Math.floor(bS*0.8);bM=bU(bL);if(bM<bQ){bR=bL;bP=bM;}for(;;){if(bS-bR<=1){return(bO-bQ>bQ-bP)?bR:bS;}var bV=Math.ceil((bR+bS)/2),bK=bU(bV);if(bK>bQ){bS=bV;bO=bK;}else{bR=bV;bP=bK;}}}function bh(bN,bM){var bL=by(),bK=bN.line-(bM?a4:0);return{x:M(bN.line,bN.ch),y:bK*bL,yBot:(bK+1)*bL};}function bg(bM){var bK=bh(bM,true),bL=A(az);return{x:bL.left+bK.x,y:bL.top+bK.y,yBot:bL.top+bK.yBot};}function by(){var bK=aa.childNodes.length;if(bK){return aa.offsetHeight/bK;}ao.innerHTML="<pre>x</pre>";return ao.firstChild.offsetHeight||1;}function aW(){return az.offsetTop;}function ba(){return az.offsetLeft;}function U(bN,bM){var bO=A(az),bK=bN.pageX()-bO.left,bQ=bN.pageY()-bO.top;if(!bM&&bN.target()!=az.parentNode&&!(bN.target()==bd&&bQ>(bz.length*by())&&bd.clientHeight>aw.offsetHeight)){for(var bP=bN.target();bP!=aa&&bP!=W;bP=bP.parentNode){if(!bP||bP==bd){return null;}}}var bL=a4+Math.floor(bQ/by());return ab({line:bL,ch:aZ(aO(bL),bK)});}function ah(bK){var bN=U(bK);if(!bN||window.opera){return;}if(n(aH.from,aH.to)||m(bN,aH.from)||!m(bN,aH.to)){aK(bN.line,bN.ch);}var bM=bF.style.cssText;bF.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(bK.pageY()-1)+"px; left: "+(bK.pageX()-1)+"px; z-index: 1000; background: white; border-width: 0; outline: none; overflow: hidden;";var bL=bF.value=br();bF.focus();f(bF,0,bL.length);if(o){bK.stop();}bv=true;setTimeout(function(){if(bF.value!=bL){bA(ad)(bF.value,"end");}bF.style.cssText=bM;bv=false;au();bl();},50);}function J(){clearInterval(Z);var bK=true;W.style.visibility="";Z=setInterval(function(){W.style.visibility=(bK=!bK)?"":"hidden";},650);}var bG={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"};function ak(bQ){var bK=aH.inverted?aH.from:aH.to,bS=bz[bK.line],bL=bK.ch-1;var bP=(bL>=0&&bG[bS.text.charAt(bL)])||bG[bS.text.charAt(++bL)];if(!bP){return;}var bT=bP.charAt(0),bR=bP.charAt(1)==">",b3=bR?1:-1,bY=bS.styles;for(var b4=bL+1,b0=0,b2=bY.length;b0<b2;b0+=2){if((b4-=bY[b0].length)<=0){var b1=bY[b0+1];break;}}var bN=[bS.text.charAt(bL)],bX=/[(){}[\]]/;function bV(cg,cb,cc){if(!cg.text){return;}var cf=cg.styles,ca=bR?0:cg.text.length-1,cd;for(var b7=bR?0:cf.length-2,b9=bR?cf.length:-2;b7!=b9;b7+=2*b3){var ce=cf[b7];if(cf[b7+1]!=null&&cf[b7+1]!=b1){ca+=b3*ce.length;continue;}for(var b6=bR?0:ce.length-1,b5=bR?ce.length:-1;b6!=b5;b6+=b3,ca+=b3){if(ca>=cb&&ca<cc&&bX.test(cd=ce.charAt(b6))){var b8=bG[cd];if(b8.charAt(1)==">"==bR){bN.push(cd);}else{if(bN.pop()!=b8.charAt(0)){return{pos:ca,match:false};}else{if(!bN.length){return{pos:ca,match:true};}}}}}}}for(var b0=bK.line,b2=bR?Math.min(b0+50,bz.length):Math.max(0,b0-50);b0!=b2;b0+=b3){var bS=bz[b0],bO=b0==bK.line;var bU=bV(bS,bO&&bR?bL+1:0,bO&&!bR?bL:bS.text.length);if(bU){var b1=bU.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";var bZ=N({line:bK.line,ch:bL},{line:bK.line,ch:bL+1},b1),bM=N({line:b0,ch:bU.pos},{line:b0,ch:bU.pos+1},b1);var bW=bA(function(){bZ();bM();});if(bQ){setTimeout(bW,800);}else{bo=bW;}break;}}}function aQ(bQ){var bP,bM;for(var bL=bQ,bN=bQ-40;bL>bN;--bL){if(bL==0){return 0;}var bK=bz[bL-1];if(bK.stateAfter){return bL;}var bO=bK.indentation();if(bM==null||bP>bO){bM=bL;bP=bO;}}return bM;}function ax(bO){var bN=aQ(bO),bM=bN&&bz[bN-1].stateAfter;if(!bM){bM=g(a2);}else{bM=x(a2,bM);}for(var bL=bN;bL<bO;++bL){var bK=bz[bL];bK.highlight(a2,bM);bK.stateAfter=x(a2,bM);}if(!bz[bO].stateAfter){aV.push(bO);}return bM;}function aT(){var bO=+new Date+a0.workTime;while(aV.length){if(!bz[a4].stateAfter){var bM=a4;}else{var bM=aV.pop();}if(bM>=bz.length){continue;}var bL=aQ(bM),bK=bL&&bz[bL-1].stateAfter;if(bK){bK=x(a2,bK);}else{bK=g(a2);}for(var bR=bL,bN=bz.length;bR<bN;++bR){var bS=bz[bR],bP=bS.stateAfter;if(+new Date>bO){aV.push(bR);bE(a0.workDelay);bx.push({from:bM,to:bR});return;}var bQ=bS.highlight(a2,bK);bS.stateAfter=x(a2,bK);if(bP&&!bQ&&bS.text){break;}}bx.push({from:bM,to:bR});}}function bE(bK){if(!aV.length){return;}ai.set(bK,bA(aT));}function R(){a7=null;bx=[];aB=af=false;}function aC(){var bL=false;if(af){bL=!aL();}if(bx.length){Y(bx);}else{if(af){bq();}}if(bL){aL();}if(af){J();}if(!bv&&(a7===true||(a7!==false&&af))){au();}if(af&&a0.matchBrackets){setTimeout(bA(function(){if(bo){bo();bo=null;}ak(false);}),20);}var bK=aB;if(af&&a0.onCursorActivity){a0.onCursorActivity(bw);}if(bK&&a0.onChange){a0.onChange(bw,bK);}}var an=0;function bA(bK){return function(){if(!an++){R();}try{var bL=bK.apply(this,arguments);}finally{if(!--an){aC();}}return bL;};}function ap(bM,bO,bL){this.atOccurrence=false;if(bL==null){bL=typeof bM=="string"&&bM==bM.toLowerCase();}if(bO&&typeof bO=="object"){bO=ab(bO);}else{bO={line:0,ch:0};}this.pos={from:bO,to:bO};if(typeof bM!="string"){this.matches=function(bR,bV){if(bR){var bP=bz[bV.line].text.slice(0,bV.ch),bQ=bP.match(bM),bU=0;while(bQ){var bS=bP.indexOf(bQ[0]);bU+=bS;bP=bP.slice(bS+1);var bT=bP.match(bM);if(bT){bQ=bT;}else{break;}}}else{var bP=bz[bV.line].text.slice(bV.ch),bQ=bP.match(bM),bU=bQ&&bV.ch+bP.indexOf(bQ[0]);}if(bQ){return{from:{line:bV.line,ch:bU},to:{line:bV.line,ch:bU+bQ[0].length},match:bQ};}};}else{if(bL){bM=bM.toLowerCase();}var bK=bL?function(bP){return bP.toLowerCase();}:function(bP){return bP;};var bN=bM.split("\n");if(bN.length==1){this.matches=function(bS,bT){var bQ=bK(bz[bT.line].text),bP=bM.length,bR;if(bS?(bT.ch>=bP&&(bR=bQ.lastIndexOf(bM,bT.ch-bP))!=-1):(bR=bQ.indexOf(bM,bT.ch))!=-1){return{from:{line:bT.line,ch:bR},to:{line:bT.line,ch:bR+bP}};}};}else{this.matches=function(bU,bW){var bV=bW.line,bX=(bU?bN.length-1:0),bS=bN[bX],bY=bK(bz[bV].text);var bT=(bU?bY.indexOf(bS)+bS.length:bY.lastIndexOf(bS));if(bU?bT>=bW.ch||bT!=bS.length:bT<=bW.ch||bT!=bY.length-bS.length){return;}for(;;){if(bU?!bV:bV==bz.length-1){return;}bY=bK(bz[bV+=bU?-1:1].text);bS=bN[bU?--bX:++bX];if(bX>0&&bX<bN.length-1){if(bY!=bS){return;}else{continue;}}var bR=(bU?bY.lastIndexOf(bS):bY.indexOf(bS)+bS.length);if(bU?bR!=bY.length-bS.length:bR!=bS.length){return;}var bP={line:bW.line,ch:bT},bQ={line:bV,ch:bR};return{from:bU?bQ:bP,to:bU?bP:bQ};}};}}}ap.prototype={findNext:function(){return this.find(false);},findPrevious:function(){return this.find(true);},find:function(bL){var bK=this,bN=ab(bL?this.pos.from:this.pos.to);function bM(bO){var bP={line:bO,ch:0};bK.pos={from:bP,to:bP};bK.atOccurrence=false;return false;}for(;;){if(this.pos=this.matches(bL,bN)){this.atOccurrence=true;return this.pos.match||true;}if(bL){if(!bN.line){return bM(0);}bN={line:bN.line-1,ch:bz[bN.line-1].text.length};}else{if(bN.line==bz.length-1){return bM(bz.length);}bN={line:bN.line+1,ch:0};}}},from:function(){if(this.atOccurrence){return q(this.pos.from);}},to:function(){if(this.atOccurrence){return q(this.pos.to);}}};return bw;}y.defaults={value:"",mode:null,indentUnit:2,indentWithTabs:false,tabMode:"classic",enterMode:"indent",electricChars:true,onKeyEvent:null,lineNumbers:false,gutter:false,firstLineNumber:1,readOnly:false,onChange:null,onCursorActivity:null,onGutterClick:null,onFocus:null,onBlur:null,onScroll:null,matchBrackets:false,workTime:100,workDelay:200,undoDepth:40,tabindex:null};var b={},r={};y.defineMode=function(i,I){if(!y.defaults.mode&&i!="null"){y.defaults.mode=i;}b[i]=I;};y.defineMIME=function(I,i){r[I]=i;};y.getMode=function(J,i){if(typeof i=="string"&&r.hasOwnProperty(i)){i=r[i];}if(typeof i=="string"){var L=i,I={};}else{var L=i.name,I=i;}var K=b[L];if(!K){if(window.console){console.warn("No mode "+L+" found, falling back to plain text.");}return y.getMode(J,"text/plain");}return K(J,I);};y.listModes=function(){var I=[];for(var i in b){if(b.propertyIsEnumerable(i)){I.push(i);}}return I;};y.listMIMEs=function(){var I=[];for(var i in r){if(r.propertyIsEnumerable(i)){I.push(i);}}return I;};y.fromTextArea=function(I,K){if(!K){K={};}K.value=I.value;if(!K.tabindex&&I.tabindex){K.tabindex=I.tabindex;}function M(){I.value=i.getValue();}if(I.form){var L=e(I.form,"submit",M,true);if(typeof I.form.submit=="function"){var J=I.form.submit;function N(){M();I.form.submit=J;I.form.submit();I.form.submit=N;}I.form.submit=N;}}I.style.display="none";var i=y(function(O){I.parentNode.insertBefore(O,I.nextSibling);},K);i.save=M;i.toTextArea=function(){M();I.parentNode.removeChild(i.getWrapperElement());I.style.display="";if(I.form){L();if(typeof I.form.submit=="function"){I.form.submit=J;}}};return i;};function x(K,i){if(i===true){return i;}if(K.copyState){return K.copyState(i);}var J={};for(var L in i){var I=i[L];if(I instanceof Array){I=I.concat([]);}J[L]=I;}return J;}y.startState=g;function g(J,I,i){return J.startState?J.startState(I,i):true;}y.copyState=x;function w(i){this.pos=this.start=0;this.string=i;}w.prototype={eol:function(){return this.pos>=this.string.length;},sol:function(){return this.pos==0;},peek:function(){return this.string.charAt(this.pos);},next:function(){if(this.pos<this.string.length){return this.string.charAt(this.pos++);}},eat:function(i){var J=this.string.charAt(this.pos);if(typeof i=="string"){var I=J==i;}else{var I=J&&(i.test?i.test(J):i(J));}if(I){++this.pos;return J;}},eatWhile:function(i){var I=this.start;while(this.eat(i)){}return this.pos>I;},eatSpace:function(){var i=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos))){++this.pos;}return this.pos>i;},skipToEnd:function(){this.pos=this.string.length;},skipTo:function(i){var I=this.string.indexOf(i,this.pos);if(I>-1){this.pos=I;return true;}},backUp:function(i){this.pos-=i;},column:function(){return C(this.string,this.start);},indentation:function(){return C(this.string);},match:function(K,I,i){if(typeof K=="string"){function L(M){return i?M.toLowerCase():M;}if(L(this.string).indexOf(L(K),this.pos)==this.pos){if(I!==false){this.pos+=K.length;}return true;}}else{var J=this.string.slice(this.pos).match(K);if(J&&I!==false){this.pos+=J[0].length;}return J;}},current:function(){return this.string.slice(this.start,this.pos);}};function z(I,i){this.styles=i||[I,null];this.stateAfter=null;this.text=I;this.marked=this.gutterMarker=this.className=null;}z.prototype={replace:function(N,O,R){var S=[],L=this.marked;E(0,N,this.styles,S);if(R){S.push(R,null);}E(O,this.text.length,this.styles,S);this.styles=S;this.text=this.text.slice(0,N)+R+this.text.slice(O);this.stateAfter=null;if(L){var P=R.length-(O-N),J=this.text.length;function M(i){return i<=Math.min(O,O+P)?i:i+P;}for(var K=0;K<L.length;++K){var I=L[K],Q=false;if(I.from>=J){Q=true;}else{I.from=M(I.from);if(I.to!=null){I.to=M(I.to);}}if(Q||I.from>=I.to){L.splice(K,1);K--;}}}},split:function(J,I){var i=[I,null];E(J,this.text.length,this.styles,i);return new z(I+this.text.slice(J),i);},addMark:function(L,K,I){var i=this.marked,J={from:L,to:K,style:I};if(this.marked==null){this.marked=[];}this.marked.push(J);this.marked.sort(function(N,M){return N.from-M.from;});return J;},removeMark:function(K){var I=this.marked;if(!I){return;}for(var J=0;J<I.length;++J){if(I[J]==K){I.splice(J,1);break;}}},highlight:function(M,I){var O=new w(this.text),Q=this.styles,N=0;var L=false,J=Q[0],P;while(!O.eol()){var i=M.token(O,I);var K=this.text.slice(O.start,O.pos);O.start=O.pos;if(N&&Q[N-1]==i){Q[N-2]+=K;}else{if(K){if(!L&&(Q[N+1]!=i||(N&&Q[N-2]!=P))){L=true;}Q[N++]=K;Q[N++]=i;P=J;J=Q[N];}}if(O.pos>5000){Q[N++]=this.text.slice(O.pos);Q[N++]=null;break;}}if(Q.length!=N){Q.length=N;L=true;}if(N&&Q[N-2]!=P){L=true;}return L;},getTokenAt:function(M,K,J){var i=this.text,L=new w(i);while(L.pos<J&&!L.eol()){L.start=L.pos;var I=M.token(L,K);}return{start:L.start,end:L.pos,string:L.current(),className:I||null,state:K};},indentation:function(){return C(this.text);},getHTML:function(U,Y,L,W){var O=[];if(L){O.push(this.className?'<pre class="'+this.className+'">':"<pre>");}function Z(ah,i){if(!ah){return;}if(i){O.push('<span class="',i,'">',p(ah),"</span>");}else{O.push(p(ah));}}var T=this.styles,M=this.text,S=this.marked;if(U==Y){U=null;}var ab=M.length;if(W!=null){ab=Math.min(W,ab);}if(!M&&W==null){Z(" ",U!=null&&Y==null?"CodeMirror-selected":null);}else{if(!S&&U==null){for(var aa=0,P=0;P<ab;aa+=2){var V=T[aa],X=V.length;if(P+X>ab){V=V.slice(0,ab-P);}P+=X;Z(V,T[aa+1]);}}else{var K=0,aa=0,R="",ac,af=0;var ad=-1,N=null;function ae(){if(S){ad+=1;N=(ad<S.length)?S[ad]:null;}}ae();while(K<ab){var Q=ab;var ag="";if(U!=null){if(U>K){Q=U;}else{if(Y==null||Y>K){ag=" CodeMirror-selected";if(Y!=null){Q=Math.min(Q,Y);}}}}while(N&&N.to!=null&&N.to<=K){ae();}if(N){if(N.from>K){Q=Math.min(Q,N.from);}else{ag+=" "+N.style;if(N.to!=null){Q=Math.min(Q,N.to);}}}for(;;){var J=K+R.length;var I=ac;if(ag){I=ac?ac+ag:ag;}Z(J>Q?R.slice(0,Q-K):R,I);if(J>=Q){R=R.slice(Q-K);K=Q;break;}K=J;R=T[aa++];ac=T[aa++];}}if(U!=null&&Y==null){Z(" ","CodeMirror-selected");}}}if(L){O.push("</pre>");}return O.join("");}};function E(O,P,I,Q){for(var M=0,N=0,J=0;N<P;M+=2){var K=I[M],L=N+K.length;if(J==0){if(L>O){Q.push(K.slice(O-N,Math.min(K.length,P-N)),I[M+1]);}if(L>=O){J=1;}}else{if(J==1){if(L>P){Q.push(K.slice(0,P-N),I[M+1]);}else{Q.push(K,I[M+1]);}}}N=L;}}function c(){this.time=0;this.done=[];this.undone=[];}c.prototype={addChange:function(P,K,I){this.undone.length=0;var O=+new Date,M=this.done[this.done.length-1];if(O-this.time>400||!M||M.start>P+K||M.start+M.added<P-M.added+M.old.length){this.done.push({start:P,added:K,old:I});}else{var L=0;if(P<M.start){for(var J=M.start-P-1;J>=0;--J){M.old.unshift(I[J]);}M.added+=M.start-P;M.start=P;}else{if(M.start<P){L=P-M.start;K+=L;}}for(var J=M.added-L,N=I.length;J<N;++J){M.old.push(I[J]);}if(M.added<K){M.added=K;}}this.time=O;}};function D(){if(this.preventDefault){this.preventDefault();this.stopPropagation();}else{this.returnValue=false;this.cancelBubble=true;}}function s(i){if(!i.stop){i.stop=D;}return i;}function H(i){this.e=i;}H.prototype={stop:function(){D.call(this.e);},target:function(){return this.e.target||this.e.srcElement;},button:function(){if(this.e.which){return this.e.which;}else{if(this.e.button&1){return 1;}else{if(this.e.button&2){return 3;}else{if(this.e.button&4){return 2;}}}}},pageX:function(){if(this.e.pageX!=null){return this.e.pageX;}else{return this.e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft;}},pageY:function(){if(this.e.pageY!=null){return this.e.pageY;}else{return this.e.clientY+document.body.scrollTop+document.documentElement.scrollTop;}}};function e(K,J,I,i){function L(M){I(new H(M||window.event));}if(typeof K.addEventListener=="function"){K.addEventListener(J,L,false);if(i){return function(){K.removeEventListener(J,L,false);};}}else{K.attachEvent("on"+J,L);if(i){return function(){K.detachEvent("on"+J,L);};}}}function l(){this.id=null;}l.prototype={set:function(i,I){clearTimeout(this.id);this.id=setTimeout(I,i);}};var F=(function(){var i=document.createElement("pre");i.innerHTML=" ";return !i.innerHTML;})();var o=/gecko\/\d{7}/i.test(navigator.userAgent);var h="\n";(function(){var i=document.createElement("textarea");i.value="foo\nbar";if(i.value.indexOf("\r")>-1){h="\r\n";}}());var u=8;var j=/Mac/.test(navigator.platform);var t={};for(var B=35;B<=40;++B){t[B]=t["c"+B]=true;}function C(J,I){if(I==null){I=J.search(/[^\s\u00a0]/);if(I==-1){I=J.length;}}for(var K=0,L=0;K<I;++K){if(J.charAt(K)=="\t"){L+=u-(L%u);}else{++L;}}return L;}function A(J){var i=0,L=0,I=J;for(var K=J;K;K=K.offsetParent){i+=K.offsetLeft;L+=K.offsetTop;}for(var K=J;K!=document.body;K=K.parentNode){i-=K.scrollLeft;L-=K.scrollTop;}return{left:i,top:L};}function a(i){return i.textContent||i.innerText||i.nodeValue||"";}function n(I,i){return I.line==i.line&&I.ch==i.ch;}function m(I,i){return I.line<i.line||(I.line==i.line&&I.ch<i.ch);}function q(i){return{line:i.line,ch:i.ch};}function p(i){return i.replace(/[<&]/g,function(I){return I=="&"?"&amp;":"&lt;";});}function k(L,K){if(!K){return L?L.length:0;}if(!L){return K.length;}for(var J=L.length,I=K.length;J>=0&&I>=0;--J,--I){if(L.charAt(J)!=K.charAt(I)){break;}}return I+1;}function d(L,I){if(L.indexOf){return L.indexOf(I);}for(var J=0,K=L.length;J<K;++J){if(L[J]==I){return J;}}return -1;}if("\n\nb".split(/\n/).length!=3){var v=function(J){var K=0,I,i=[];while((I=J.indexOf("\n",K))>-1){i.push(J.slice(K,J.charAt(I-1)=="\r"?I-1:I));K=I+1;}i.push(J.slice(K));return i;};}else{var v=function(i){return i.split(/\r?\n/);};}if(window.getSelection){var G=function(I){try{return{start:I.selectionStart,end:I.selectionEnd};}catch(i){return null;}};var f=function(J,K,i){try{J.setSelectionRange(K,i);}catch(I){}};}else{var G=function(K){try{var O=document.selection.createRange();}catch(Q){return null;}if(!O||O.parentElement()!=K){return null;}var J=K.value,P=J.length,R=K.createTextRange();R.moveToBookmark(O.getBookmark());var M=K.createTextRange();M.collapse(false);if(R.compareEndPoints("StartToEnd",M)>-1){return{start:P,end:P};}var I=-R.moveStart("character",-P);for(var N=J.indexOf("\r");N>-1&&N<I;N=J.indexOf("\r",N+1),I++){}if(R.compareEndPoints("EndToEnd",M)>-1){return{start:I,end:P};}var L=-R.moveEnd("character",-P);for(var N=J.indexOf("\r");N>-1&&N<L;N=J.indexOf("\r",N+1),L++){}return{start:I,end:L};};var f=function(M,O,J){var K=M.createTextRange();K.collapse(true);var I=K.duplicate();var L=0,i=M.value;for(var N=i.indexOf("\n");N>-1&&N<O;N=i.indexOf("\n",N+1)){++L;}K.move("character",O-L);for(;N>-1&&N<J;N=i.indexOf("\n",N+1)){++L;}I.move("character",J-L);K.setEndPoint("EndToEnd",I);K.select();};}y.defineMode("null",function(){return{token:function(i){i.skipToEnd();}};});y.defineMIME("text/plain","null");return y;})();